{"ast":null,"code":"var _jsxFileName = \"/Users/Phil/Desktop/Web Dev/Projects/stock-screener/src/components/radarscreen/radarscreen.component.jsx\";\nimport React from 'react';\nimport ScreenHeader from '../screen-header/screen-header.component';\nimport GenerateGrid from '../generate-grid/generate-grid.component';\nimport AddColumnButton from '../add-column-button/add-column-button.component';\nimport { INTERVALS, SYMBOLS } from '../../assets/constants';\nimport './radarscreen.styles.css'; // const headerTitle = ['Symbol', 'Interval', 'Price']\n// generate-grid-cell\n// const dropdownOptions = {\n// \tSymbol: SYMBOLS,\n// \tInterval: INTERVALS\n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst permanentHeaders = ['Symbol', 'Interval'];\n\nclass RadarScreen extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setHeaderTitle = () => {\n      const {\n        header,\n        ...rest\n      } = this.state;\n      const headerTitle = Object.keys(rest); // console.log(headerTitle);\n    };\n\n    this.onChange = (updatedValue, headerCol, valueRow) => {\n      const {\n        fetchRealTimeData\n      } = this.props;\n      this.setState(prevState => {\n        const columnName = prevState.header[headerCol]; //which column changed (Symbol, Interval)\n\n        return {\n          [columnName]: Object.assign([], prevState[columnName], {\n            [valueRow]: updatedValue\n          })\n        };\n      }, () => {\n        fetchRealTimeData(new Array(this.state.Symbol[valueRow]), 'lastPrice').then(lastPrice => {\n          this.setState(prevState => ({\n            Price: Object.assign([], prevState.Price, {\n              [valueRow]: lastPrice[0]\n            })\n          }));\n        });\n      });\n    };\n\n    this.sortTable = event => {\n      const sortedTable = this.props.onSort(event, this.state);\n      this.setState(sortedTable);\n    };\n\n    this.getClassNameForHeader = name => {\n      const {\n        sortConfig\n      } = this.props;\n\n      if (!sortConfig) {\n        return;\n      }\n\n      const direction = sortConfig.direction === 1 ? 'ascending' : 'descending';\n      return sortConfig.sortedField === name ? direction : undefined;\n    };\n\n    this.handleColumnUpdate = names => {\n      // console.log(names);\n      const headerTitles = [...permanentHeaders, ...names]; // console.log(headerTitles,'headerTitles');\n\n      this.setState({\n        header: headerTitles\n      }); // const stateClone = JSON.parse(JSON.stringify(this.state));\n      // const headerList = stateClone.header;\n      // delete stateClone.header;\n      // headerList.forEach(header => {\n      // \tif(names.includes(header)) {\n      // \t\tconsole.log(header, 'included')\n      // \t}\n      // \telse {\n      // \t\tconsole.log(header, 'not included')\n      // \t}\n      // })\n      // names.forEach((value,index) => {\n      // \t// console.log(value in stateClone, value, 'exists')\n      // \t// console.log(!(value in stateClone), value, 'does not exist')\n      // \tif(stateClone.hasOwnProperty(value)) {\n      // \t\tconsole.log(value, 'hasOwnProperty exists');\n      // \t}\n      // \tif(!stateClone.hasOwnProperty(value)) {\n      // \t\tconsole.log(value, 'hasOwnProperty does not exist');\n      // \t}\n      // })\n    };\n\n    this.state = {\n      // header: headerTitle,\n      Symbol: SYMBOLS.slice(0, 8),\n      Interval: Array(8).fill(INTERVALS[0]),\n      Price: Array(8).fill(0)\n    };\n    this.state.header = Object.keys(this.state); // console.log(this.state)\n\n    this.setHeaderTitle();\n  }\n\n  componentDidMount() {\n    const {\n      Symbol\n    } = this.state; // console.log('mount')\n\n    this.props.fetchRealTimeData(Symbol, 'lastPrice').then(data => this.setState({\n      Price: data\n    }));\n  }\n\n  render() {\n    const {\n      header\n    } = this.state;\n    const {\n      sortConfig\n    } = this.props; // console.log('rend',this.state,this.props)\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"radarscreen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"grid-container\",\n        style: {\n          gridTemplateColumns: `repeat(${header.length}, 1fr) 0`\n        },\n        children: [/*#__PURE__*/_jsxDEV(ScreenHeader, {\n          header: header,\n          sortTable: this.sortTable,\n          sortConfig: sortConfig\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(AddColumnButton, {\n          style: {\n            gridColumn: `${header.length}+1`\n          },\n          handleColumnUpdate: this.handleColumnUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(GenerateGrid, { ...this.state,\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default RadarScreen;","map":{"version":3,"sources":["/Users/Phil/Desktop/Web Dev/Projects/stock-screener/src/components/radarscreen/radarscreen.component.jsx"],"names":["React","ScreenHeader","GenerateGrid","AddColumnButton","INTERVALS","SYMBOLS","permanentHeaders","RadarScreen","Component","constructor","props","setHeaderTitle","header","rest","state","headerTitle","Object","keys","onChange","updatedValue","headerCol","valueRow","fetchRealTimeData","setState","prevState","columnName","assign","Array","Symbol","then","lastPrice","Price","sortTable","event","sortedTable","onSort","getClassNameForHeader","name","sortConfig","direction","sortedField","undefined","handleColumnUpdate","names","headerTitles","slice","Interval","fill","componentDidMount","data","render","gridTemplateColumns","length","gridColumn"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport ScreenHeader from '../screen-header/screen-header.component';\nimport GenerateGrid from '../generate-grid/generate-grid.component';\nimport AddColumnButton from '../add-column-button/add-column-button.component';\n\nimport { INTERVALS, SYMBOLS } from '../../assets/constants';\n\nimport './radarscreen.styles.css';\n\n// const headerTitle = ['Symbol', 'Interval', 'Price']\n\n// generate-grid-cell\n// const dropdownOptions = {\n// \tSymbol: SYMBOLS,\n// \tInterval: INTERVALS\n// }\nconst permanentHeaders = ['Symbol', 'Interval'];\n\n\n\nclass RadarScreen extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t// header: headerTitle,\n\t\t\tSymbol: SYMBOLS.slice(0,8),\n\t\t\tInterval: Array(8).fill(INTERVALS[0]),\n\t\t\tPrice: Array(8).fill(0)\n\t\t}\n\n\t\tthis.state.header = Object.keys(this.state);\n\n\t\t// console.log(this.state)\n\t\tthis.setHeaderTitle();\n\t}\n\n\tsetHeaderTitle = () => {\n\t\tconst { header, ...rest } = this.state;\n\t\tconst headerTitle = Object.keys(rest);\n\t\t// console.log(headerTitle);\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { Symbol } = this.state;\n\t\t// console.log('mount')\n\t\tthis.props.fetchRealTimeData(Symbol, 'lastPrice')\n\t\t.then(data => this.setState({\n\t\t\t\t\tPrice: data\n\t\t\t\t})\t\n\t\t);\n\t}\n\n\tonChange = (updatedValue, headerCol, valueRow) => {\n\n\t\tconst {fetchRealTimeData} = this.props;\n\t\tthis.setState(prevState => {\n\t\t\tconst columnName = prevState.header[headerCol];\t//which column changed (Symbol, Interval)\n\t\t\treturn {\n\t\t\t\t[columnName]: Object.assign([], prevState[columnName], {[valueRow]: updatedValue})\n\t\t\t}\n\t\t}\n\t\t,\n\t\t() => {\n\t\tfetchRealTimeData(new Array(this.state.Symbol[valueRow]), 'lastPrice')\n\t\t.then(lastPrice => {\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tPrice: Object.assign([], prevState.Price, {[valueRow]: lastPrice[0]})\n\t\t\t})\n\t\t)});\n\t\t}\n\t\t)\n\t}\n\n\tsortTable = (event) => {\n\t\tconst sortedTable = this.props.onSort(event, this.state);\n\t\tthis.setState(sortedTable);\n\t}\n\n\tgetClassNameForHeader = name => {\n\t\tconst { sortConfig } = this.props;\n\t\tif (!sortConfig) {\n\t\t\treturn;\n\t\t}\n\t\tconst direction = sortConfig.direction === 1 ? 'ascending' : 'descending'; \n\t\treturn sortConfig.sortedField === name ? direction : undefined;\n\t};\n\n\thandleColumnUpdate = names => {\n\t\t// console.log(names);\n\n\t\tconst headerTitles = [...permanentHeaders, ...names];\n\n\t\t// console.log(headerTitles,'headerTitles');\n\n\t\tthis.setState({\n\t\t\theader: headerTitles\n\t\t});\n\n\t\t// const stateClone = JSON.parse(JSON.stringify(this.state));\n\t\t// const headerList = stateClone.header;\n\t\t// delete stateClone.header;\n\n\t\t// headerList.forEach(header => {\n\t\t// \tif(names.includes(header)) {\n\t\t// \t\tconsole.log(header, 'included')\n\t\t// \t}\n\t\t// \telse {\n\t\t// \t\tconsole.log(header, 'not included')\n\t\t// \t}\n\n\t\t// })\n\n\t\t// names.forEach((value,index) => {\n\t\t// \t// console.log(value in stateClone, value, 'exists')\n\t\t// \t// console.log(!(value in stateClone), value, 'does not exist')\n\t\t// \tif(stateClone.hasOwnProperty(value)) {\n\t\t// \t\tconsole.log(value, 'hasOwnProperty exists');\n\t\t// \t}\n\t\t// \tif(!stateClone.hasOwnProperty(value)) {\n\t\t// \t\tconsole.log(value, 'hasOwnProperty does not exist');\n\t\t// \t}\n\t\t// })\n\n\t}\n\t\n\trender() {\n\t\tconst { header } = this.state;\n\t\tconst { sortConfig } = this.props;\n\t\t// console.log('rend',this.state,this.props)\n\n\t\treturn (\n\t\t\t<div className=\"radarscreen\">\n\t\t\t\t<div id=\"grid-container\" \n\t\t\t\t\tstyle={{gridTemplateColumns: `repeat(${header.length}, 1fr) 0`}}\n\t\t\t\t>\n\t\t\t\t\t<ScreenHeader \n\t\t\t\t\t\theader={header}\n\t\t\t\t\t\tsortTable={this.sortTable}\n\t\t\t\t\t\tsortConfig={sortConfig}\n\t\t\t\t\t/>\n\t\t\t\t\t<AddColumnButton \n\t\t\t\t\t\tstyle={{\n                            gridColumn: `${header.length}+1`\n                        }}\n\t\t\t\t\t\thandleColumnUpdate={this.handleColumnUpdate}\n\t\t\t\t\t/>\n\t\t\t\t\t<GenerateGrid \n\t\t\t\t\t\t{...this.state}\n\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t</div>\n\t\t)\n\t}\n}\n\nexport default RadarScreen;"]},"metadata":{},"sourceType":"module"}