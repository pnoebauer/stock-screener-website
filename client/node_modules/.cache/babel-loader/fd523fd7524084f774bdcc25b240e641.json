{"ast":null,"code":"var _jsxFileName = \"/Users/Phil/Desktop/Web Dev/Projects/stock-screener/client/src/components/add-stock-universe-button/add-stock-universe-button.component.jsx\";\nimport React from 'react';\nimport Modal from '../modal/modal.component';\nimport UniverseSelector from '../stock-universe-selector/stock-universe-selector.coponent';\nimport { UNIVERSES } from '../../assets/constants';\nimport './add-stock-universe-button.styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass AddStockUniverseButton extends React.Component {\n  constructor(props) {\n    // console.log('constructor add')\n    super(props);\n\n    this.show = () => {\n      this.setState(prevState => ({\n        visible: true,\n        universes: prevState.universes.map(item => ({ ...item,\n          selected: false\n        }))\n      }));\n    };\n\n    this.hide = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.onToggle = event => {\n      const updatedID = event.target.id;\n      this.setState(prevState => {\n        return {\n          universes: prevState.universes.map(universe => {\n            if (universe.id === updatedID) {\n              return { ...universe,\n                selected: !universe.selected\n              };\n            } else {\n              return universe;\n            }\n          })\n        };\n      });\n    };\n\n    this.handleAddClick = e => {\n      this.hide(); // const selectedUniverses = this.state.universes.filter(universe => universe.selected).map(universe => universe.name);\n\n      const selectedUniverses = this.state.universes.flatMap(universe => universe.selected ? [universe.name] : []); // console.log(selectedUniverses,'selectedUniverses');\n\n      const extractedSymbols = selectedUniverses.flatMap(universe => UNIVERSES[universe]); // console.log(extractedSymbols, 'extractedSymbols')\n\n      this.props.handleUniverseAdd(extractedSymbols);\n    };\n\n    this.state = {\n      visible: false,\n      universes: Object.keys(UNIVERSES).map(universe => ({\n        id: universe,\n        name: universe,\n        selected: false\n      }))\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.show,\n        className: \"add-stock-universe-button\",\n        style: this.props.style,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        visible: this.state.visible,\n        onClose: this.hide,\n        width: 40,\n        height: 40,\n        measure: '%',\n        showCloseButton: true,\n        closeOnEsc: true,\n        closeMaskOnClick: false,\n        enterAnimation: 'zoom',\n        leaveAnimation: 'zoom',\n        duration: 500,\n        children: /*#__PURE__*/_jsxDEV(UniverseSelector, {\n          displayedItems: this.state.universes,\n          onToggle: this.onToggle,\n          onAdd: this.handleAddClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default AddStockUniverseButton;","map":{"version":3,"sources":["/Users/Phil/Desktop/Web Dev/Projects/stock-screener/client/src/components/add-stock-universe-button/add-stock-universe-button.component.jsx"],"names":["React","Modal","UniverseSelector","UNIVERSES","AddStockUniverseButton","Component","constructor","props","show","setState","prevState","visible","universes","map","item","selected","hide","onToggle","event","updatedID","target","id","universe","handleAddClick","e","selectedUniverses","state","flatMap","name","extractedSymbols","handleUniverseAdd","Object","keys","render","style"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from '../modal/modal.component';\n\nimport UniverseSelector from '../stock-universe-selector/stock-universe-selector.coponent';\n\nimport {UNIVERSES} from '../../assets/constants';\n\nimport './add-stock-universe-button.styles.css';\n\nclass AddStockUniverseButton extends React.Component {\n\tconstructor(props) {\n\t\t// console.log('constructor add')\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tuniverses: Object.keys(UNIVERSES).map(universe => ({\n\t\t\t\tid: universe,\n\t\t\t\tname: universe,\n\t\t\t\tselected: false,\n\t\t\t})),\n\t\t};\n\t}\n\n\tshow = () => {\n\t\tthis.setState(prevState => ({\n\t\t\tvisible: true,\n\t\t\tuniverses: prevState.universes.map(item => ({\n\t\t\t\t...item,\n\t\t\t\tselected: false,\n\t\t\t})),\n\t\t}));\n\t};\n\n\thide = () => {\n\t\tthis.setState({visible: false});\n\t};\n\n\tonToggle = event => {\n\t\tconst updatedID = event.target.id;\n\n\t\tthis.setState(prevState => {\n\t\t\treturn {\n\t\t\t\tuniverses: prevState.universes.map(universe => {\n\t\t\t\t\tif (universe.id === updatedID) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...universe,\n\t\t\t\t\t\t\tselected: !universe.selected,\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn universe;\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t};\n\t\t});\n\t};\n\n\thandleAddClick = e => {\n\t\tthis.hide();\n\t\t// const selectedUniverses = this.state.universes.filter(universe => universe.selected).map(universe => universe.name);\n\t\tconst selectedUniverses = this.state.universes.flatMap(universe =>\n\t\t\tuniverse.selected ? [universe.name] : []\n\t\t);\n\t\t// console.log(selectedUniverses,'selectedUniverses');\n\n\t\tconst extractedSymbols = selectedUniverses.flatMap(universe => UNIVERSES[universe]);\n\t\t// console.log(extractedSymbols, 'extractedSymbols')\n\n\t\tthis.props.handleUniverseAdd(extractedSymbols);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<button\n\t\t\t\t\tonClick={this.show}\n\t\t\t\t\tclassName='add-stock-universe-button'\n\t\t\t\t\tstyle={this.props.style}\n\t\t\t\t>\n\t\t\t\t\t+\n\t\t\t\t</button>\n\n\t\t\t\t<Modal\n\t\t\t\t\tvisible={this.state.visible}\n\t\t\t\t\tonClose={this.hide}\n\t\t\t\t\twidth={40}\n\t\t\t\t\theight={40}\n\t\t\t\t\tmeasure={'%'}\n\t\t\t\t\tshowCloseButton={true}\n\t\t\t\t\tcloseOnEsc={true}\n\t\t\t\t\tcloseMaskOnClick={false}\n\t\t\t\t\tenterAnimation={'zoom'}\n\t\t\t\t\tleaveAnimation={'zoom'}\n\t\t\t\t\tduration={500}\n\t\t\t\t>\n\t\t\t\t\t<UniverseSelector\n\t\t\t\t\t\tdisplayedItems={this.state.universes}\n\t\t\t\t\t\tonToggle={this.onToggle}\n\t\t\t\t\t\tonAdd={this.handleAddClick}\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default AddStockUniverseButton;\n"]},"metadata":{},"sourceType":"module"}